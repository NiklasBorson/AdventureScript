include "inc/Foundation.md";

item gate_room;

item E_guard_room;
item E_guard_room_cabinet;

item W_guard_room;
item W_guard_room_chest;
item W_guard_room_door;

item SE_tower_0;

item SW_tower_0;

item SW_square;

item S_square;

item SE_square;

item NW_square;

item N_square;

item NE_square;

game
{
    # Gate room (starting point)
    player.Location = gate_room;
    gate_room.Description = "You are in a cobbled stone gate room.";
    NewDoorItem(gate_room, E_guard_room, Direction.East, "door", DoorState.None).Adj1 = "broken";

    # East guard room
    E_guard_room.Description = "You are in what appears to be a guard room.";
    InitializeContainer(E_guard_room_cabinet, "tall", "wooden", "cabinet", DoorState.Closed, E_guard_room);
    NewCandle("bronze", "oil", "lamp", E_guard_room_cabinet);
    NewWeapon("notched", null, "sword", 10, E_guard_room_cabinet);
    W_guard_room_door.Key = NewKey("large", "iron", "key", E_guard_room_cabinet);
    NewKey("bent", "brass", "key", E_guard_room_cabinet);
    NewClosedDoor(E_guard_room, SE_tower_0, Direction.East);

    # Southeast tower level 0
    SE_tower_0.Description = "You are in a square stone room.";
    SE_tower_0.IsDark = true;

    # West Guard Room
    W_guard_room.Description = "You are in what appears to be a guard room.";
    InitializeDoor(W_guard_room_door, "oak", null, "door", DoorState.Locked);
    LinkRooms(W_guard_room, gate_room, W_guard_room_door, Direction.East);
    InitializeContainer(W_guard_room_chest, "heavy", "pine", "chest", DoorState.Locked, W_guard_room);
    W_guard_room_chest.Description = "The heavy pine chest has a brass lock.";
    SetHealth(W_guard_room_chest, 50, 50);
    NewLighter("small", null, "tinderbox", W_guard_room_chest);
}

game
{
    Look();
}
